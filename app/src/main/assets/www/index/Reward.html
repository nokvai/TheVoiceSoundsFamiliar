<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<script src='../js/jquery-3.2.1.js' type='text/javascript'></script>-->
    <!--<script src='../js/musicHelper.js' type='text/javascript'></script>-->
    <!--<script src='../js/clickSound.js' type='text/javascript'></script>-->
    <!--<link href="../css/CustomStyles.css" rel="stylesheet" type="text/css" >-->
    <script src='file:///android_asset/www/js/jquery-3.2.1.js' type='text/javascript'></script>
    <script src='file:///android_asset/www/js/musicHelper.js' type='text/javascript'></script>
    <script src='file:///android_asset/www/js/clickSound.js' type='text/javascript'></script>
    <link href="file:///android_asset/www/css/CustomStyles.css" rel="stylesheet" type="text/css" >

    <script>
        $(document).ready(function() {

            function showTheme() {
                $("body").css({"background-image": "url(" + mygame.getChangeTheme(Number(1)) + ")"});
                $("body").addClass("bg");
             } showTheme();

            var tbl = $('#tablePlayer tbody');

            function setValue(qn, id, lv) {
				var queryString = "?qn=" + qn +
								  "&id=" + id +
								  "&lv=" + lv;
				window.location.href = "file:///android_asset/www/index/Expert.html" + queryString;
			}

            function getValue() {
				var queryString = decodeURIComponent(window.location.search);
					queryString = queryString.substring(1);
					var queries = queryString.split("&");
					var result = [];
					for (var i = 0; i < queries.length; i++) {
					  result.push( queries[i].split("=") );
					}
				return result;
			}

			level = getValue()[0][1];
			player_id = getValue()[1][1];

            $("#btnBack").click(function() {
                clickSound();
                setTimeout(function() {
                   setValue("40", player_id, level);
                }, 400);
            });

			function addRow() {
                tbl.empty();
				var songs = mygame.getRewardSongs().split(',');
				    for (var i=0;i< (songs.length - 1);i++) {
				        var song_clean = songs[i].split('-')[0].split('_').join(' ');
				        var song_artist = songs[i].split('-')[1].split('_').join(' ');
				        song_artist = song_artist.replace(" FULL.mp3", "");
                         var tr = $('<tr/>');
                         var td1 = $('<td/>');
                         tr.attr("id", songs[i]);
                         td1.append( song_clean + " by " + song_artist );
                         tr.append(td1);
                         tbl.append(tr);
                    }
			}

			addRow();

		    $('#tablePlayer tbody').on( 'click', 'tr', function () {
				if ( $(this).hasClass('selected') ) {
					$(this).removeClass('selected');
				} else {
					$(this).siblings().removeClass('selected');
					$(this).addClass('selected');

                    var reward_song = $("#tablePlayer tbody tr.selected").attr("id");
                    playRewardMusic(reward_song);
				}
			});


        });


    </script>

</head>

<body>
<h2 id="title" style="text-align:center;">Reward Songs</h2>
<div class="center-div" style="text-align: center;">
    <table class="table-center" id="tablePlayer" style="width: 100%;">
        <tbody style="height:160px; overflow-y:auto;">
        </tbody>
    </table>
</div>
<br>
<div class="center-div" style="text-align:center;">
    <button id="btnBack" class="button-nav" style="width:150px;">Back</button>
</div>

</body>

</html>
